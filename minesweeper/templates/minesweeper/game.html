{% extends "minesweeper/base.html" %}
{% load i18n %}

{% block headblock %}


        {% load static %}
        <link rel="stylesheet" href="{% static 'minesweeper/css/style.css' %}">

        <link rel="preload" href="{% static 'minesweeper/images/cell-0.svg'%}" as="image">
        <link rel="preload" href="{% static 'minesweeper/images/cell-1.svg' %}" as="image">
        <link rel="preload" href="{% static 'minesweeper/images/cell-2.svg' %}" as="image">
        <link rel="preload" href="{% static 'minesweeper/images/cell-3.svg' %}" as="image">
        <link rel="preload" href="{% static 'minesweeper/images/cell-4.svg' %}" as="image">
        <link rel="preload" href="{% static 'minesweeper/images/cell-5.svg' %}" as="image">
        <link rel="preload" href="{% static 'minesweeper/images/cell-6.svg' %}" as="image">
        <link rel="preload" href="{% static 'minesweeper/images/cell-7.svg' %}" as="image">
        <link rel="preload" href="{% static 'minesweeper/images/cell-8.svg' %}" as="image">
        <link rel="preload" href="{% static 'minesweeper/images/cell-closed.svg' %}" as="image">
        <link rel="preload" href="{% static 'minesweeper/images/cell-flagged.svg' %}" as="image">
        <link rel="preload" href="{% static 'minesweeper/images/cell-flagged-wrong.svg' %}" as="image">
        <link rel="preload" href="{% static 'minesweeper/images/cell-mine.svg' %}" as="image">
        <link rel="preload" href="{% static 'minesweeper/images/cell-mine-exploded.svg' %}" as="image">

        <style>
            :root {
                --board-width: {{ difficulty_settings.width }};
                --board-height: {{ difficulty_settings.height }};
                --cell-width: {{ difficulty_settings.cell_width }};
                --border-hor-image: url("{% static 'minesweeper/images/border-hor.png' %}");
                --border-vert-image: url("{% static 'minesweeper/images/border-vert.png' %}");
                --corner-top-left-image: url("{% static 'minesweeper/images/corner-top-left.png' %}");
                --corner-top-right-image: url("{% static 'minesweeper/images/corner-top-right.png' %}");
                --t-left-image: url("{% static 'minesweeper/images/t-left.png' %}");
                --t-right-image: url("{% static 'minesweeper/images/t-right.png' %}");
                --corner-bottom-left-image: url("{% static 'minesweeper/images/corner-bottom-left.png' %}");
                --corner-bottom-right-image: url("{% static 'minesweeper/images/corner-bottom-right.png' %}");
            }

        </style>
        <link rel="stylesheet" href="{% static 'minesweeper/css/gamestyle.css' %}">

    {% endblock %}

{% block maincontent %}

<div class="game-container ">
    <div id="timer">0.000</div>
    <div id="game">
        <div class="top_part">
            <div class="border_corners">
                <div class="corner_top_left"></div><div class="border_hor"></div><div class="corner_top_right"></div>
            </div>
            <div class="border_corners">
                <div class="border_vert"></div>
                    <div class="panel">
                        <div id="mine_counter" class="counter">mines</div>
                        <button class="image-button">
                            <img src="{% static 'minesweeper/images/face-unpressed.png' %}">
                        </button>
                        <div if="seconds_counter" class="counter">seconds</div>
                    </div>
                <div class="border_vert"></div>
            </div>
        </div>
        <div class="border_corners">
            <div class="t_left"></div><div class="border_hor"></div><div class="t_right"></div>
        </div>
        <div class="border_corners">
            <div class="border_vert"></div>
            <div id="board">

            </div>
            <div class="border_vert"></div>
        </div>
        <div class="border_corners">
            <div class="corner_bottom_left"></div><div class="border_hor"></div><div class="corner_bottom_right"></div>
        </div>

    </div>

    <button id="toggleButton" class="btn btn-primary d-inline">Fast Mode: OFF</button>

</div>



{% endblock %}

{% block scriptblock %}
<script>const difficulty_name = "{{ difficulty_settings.name }}";</script>
<script src="{% static 'minesweeper/js/game.js' %}"></script>

{% endblock %}